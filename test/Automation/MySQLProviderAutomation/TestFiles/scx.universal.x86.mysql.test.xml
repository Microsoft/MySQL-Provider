<?xml version="1.0" encoding="utf-8"?>
<varmap xmlns="http://smxinfranet/schemas/mcf/2002/01/varmap"
        assembly="..\MySQL.dll"
        dsc="MySQL Automation Test"
        owner="v-jeali" contact="v-jeali">
  <snippet id="MySQLInstallInfo">
    <rec key="MySQL.InstallCmd">sh /tmp/{0}</rec>
    <rec key="MySQL.VerifyFolderExistCmd"><![CDATA[/bin/ls /opt/microsoft/|grep -ic "MySQL";/bin/ls /var/opt/microsoft/|grep -ic "MySQL";/bin/ls /etc/opt/microsoft/|grep -ic "MySQL"]]></rec>
    <rec key="MySQL.VerifyMySQLInstalledCmd">dpkg -l |grep -i mysql-cimprov</rec>
  </snippet>
  <snippet id="LinuxInfo">
    <rec key="Linux.Host">m55s-rhel6-01</rec>
    <rec key="LocalIP">127.0.0.1</rec>
    <rec key="DefaultPort">3306</rec>
    <rec key="DefaultAuthorUser">root</rec>
    <rec key="DefaultAuthorPassWord">OpsMgr2007R2</rec>
  </snippet>
  <snippet id="MySQLAuthInfo">
    <rec key="MySQL.DefaultAuthCmd">/opt/microsoft/omi/bin/omicli iv root/mysql { MySQL_Server } UpdateCredentials { Port 3306 BindAddress 127.0.0.1 Username root Password OpsMgr2007R2 }</rec>
    <rec key="MySQL.DeleteAuthCmd">rm -rf /var/opt/microsoft/mysql-cimprov/auth/*</rec>
  </snippet>
  <snippet id="MultiMySQL">
    <rec key="MultiMySQLAddAuth">/opt/microsoft/omi/bin/omicli iv root/mysql { MySQL_Server } UpdateCredentials { Port 3306 BindAddress 127.0.0.1 Username root Password OpsMgr2007R2 };/opt/microsoft/omi/bin/omicli iv root/mysql { MySQL_Server } UpdateCredentials { Port 3307 BindAddress 127.0.0.1 Username root Password OpsMgr2007R2 }</rec>
  </snippet>
  <snippet id="GenralStopedOneInstanceInMultiEnvMySQLServerDataBasesProperties">
    <rec key="expectedStopedOneInstanceInMultiEnvDatabase">
      <![CDATA[
      <databases>
        <database>
           <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:data</InstanceID>
           <DatabaseName>data</DatabaseName>
           <NumberOfTables>[0-9]</NumberOfTables>
           <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
           <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:employees</InstanceID>
           <DatabaseName>employees</DatabaseName>
           <NumberOfTables>[0-9]</NumberOfTables>
           <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:information_schema</InstanceID>
          <DatabaseName>information_schema</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:mysql</InstanceID>
          <DatabaseName>mysql</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
            <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:{DiffDataBase}</InstanceID>
            <DatabaseName>{DiffDataBase}</DatabaseName>
            <NumberOfTables>[0-9]</NumberOfTables>
            <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
      </databases>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralStopedOneInstanceInMultiEnvMySQLServerProperties">
    <rec key="expectedStopedOneInstanceInMultiEnvMySQLServer">
      <![CDATA[
      <MySQLServers>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{DefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>{ProductVersionInfo}</ProductVersion> 
        <SystemID>[0-9]</SystemID> 
        <CollectionID>[lL]inux</CollectionID> 
        <ConfigurationFile>{ConfigurationFileInfo}</ConfigurationFile> 
        <ErrorLogFile>{ErrorLogFileInfo}</ErrorLogFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{DefaultPort}</Port> 
        <SocketFile>{SocketFileInfo}</SocketFile> 
        <DataDirectory>{DataDirectoryInfo}</DataDirectory> 
        <OperatingStatus>{ExpectedStatus}</OperatingStatus> 
        </MySQLServer>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{MultiDefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>^$</ProductVersion> 
        <SystemID>^$</SystemID> 
        <CollectionID>^$</CollectionID> 
        <ConfigurationFile>{ConfigurationFileInfo}</ConfigurationFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{MultiDefaultPort}</Port> 
        <OperatingStatus>No Contact</OperatingStatus> 
        </MySQLServer>
      </MySQLServers>
      ]]>
    </rec>
  </snippet>
  <snippet id="GenralOneInstanceMySQLServerDataBasesProperties">
    <rec key="expectedDatabase">
      <![CDATA[
      <databases>
        <database>
         <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:data</InstanceID>
         <DatabaseName>data</DatabaseName>
         <NumberOfTables>[0-9]</NumberOfTables>
         <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
           <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:employees</InstanceID>
           <DatabaseName>employees</DatabaseName>
           <NumberOfTables>[0-9]</NumberOfTables>
           <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:information_schema</InstanceID>
          <DatabaseName>information_schema</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:mysql</InstanceID>
          <DatabaseName>mysql</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
            <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:{DiffDataBase}</InstanceID>
            <DatabaseName>{DiffDataBase}</DatabaseName>
            <NumberOfTables>[0-9]</NumberOfTables>
            <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
      </databases>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralOneInstanceMySQLServerStatisticsProperties">
    <rec key="expectedMySQLServerStatistics">
      <![CDATA[
      <MySQLServerStatistics>
        <MySQLServerStatistic>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}</InstanceID>  
          <CurrentNumConnections>[0-9]</CurrentNumConnections> 
          <MaxConnections>[0-9]</MaxConnections>          
          <Uptime>[0-9]</Uptime> 
          <ServerDiskUseInBytes>[0-9]</ServerDiskUseInBytes> 
          <ConnectionsUsePct>[0-9]</ConnectionsUsePct> 
          <AbortedConnectionPct>[0-9]</AbortedConnectionPct> 
          <SlowQueryPct>[0-9]</SlowQueryPct> 
          <KeyCacheHitPct>[0-9]</KeyCacheHitPct> 
          <KeyCacheWritePct>[0-9]</KeyCacheWritePct> 
          <KeyCacheUsePct>[0-9]</KeyCacheUsePct> 
          <QCacheHitPct>[0-9]</QCacheHitPct> 
          <QCachePrunesPct>[0-9]</QCachePrunesPct> 
          <QCacheUsePct>[0-9]</QCacheUsePct> 
          <TCacheHitPct>[0-9]</TCacheHitPct> 
          <TableLockContentionPct>[0-9]</TableLockContentionPct> 
          <TableCacheUsePct>[0-9]</TableCacheUsePct> 
          <IDB_BP_HitPct>[0-9]</IDB_BP_HitPct>           
          <IDB_BP_UsePct>[0-9]</IDB_BP_UsePct> 
          <FullTableScanPct>[0-9]</FullTableScanPct> 
        </MySQLServerStatistic>
      </MySQLServerStatistics>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralBadStatusMySQLServerProperties">
    <rec key="expectedBadMySQLServer">
      <![CDATA[
      <MySQLServers>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{DefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>^$</ProductVersion> 
        <SystemID>^$</SystemID> 
        <CollectionID>^$</CollectionID> 
        <ConfigurationFile>{ConfigurationFileInfo}</ConfigurationFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{DefaultPort}</Port> 
        <OperatingStatus>{ExpectedStatus}</OperatingStatus> 
        </MySQLServer>
      </MySQLServers>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralOneInstanceMySQLServerProperties">
    <rec key="expectedMySQLServer">
      <![CDATA[
      <MySQLServers>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{DefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>{ProductVersionInfo}</ProductVersion> 
        <SystemID>[0-9]</SystemID> 
        <CollectionID>[lL]inux</CollectionID> 
        <ConfigurationFile>{ConfigurationFileInfo}</ConfigurationFile> 
        <ErrorLogFile>{ErrorLogFileInfo}</ErrorLogFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{DefaultPort}</Port> 
        <SocketFile>{SocketFileInfo}</SocketFile> 
        <DataDirectory>{DataDirectoryInfo}</DataDirectory> 
        <OperatingStatus>{ExpectedStatus}</OperatingStatus> 
        </MySQLServer>
      </MySQLServers>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralMultiInstanceMySQLServerDataBasesProperties">
    <rec key="expectedMultiInstancesDatabase">
      <![CDATA[
      <databases>
        <database>
         <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:data</InstanceID>
         <DatabaseName>data</DatabaseName>
         <NumberOfTables>[0-9]</NumberOfTables>
         <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
         <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:employees</InstanceID>
         <DatabaseName>employees</DatabaseName>
         <NumberOfTables>[0-9]</NumberOfTables>
         <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:information_schema</InstanceID>
          <DatabaseName>information_schema</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:mysql</InstanceID>
          <DatabaseName>mysql</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}:{DiffDataBase}</InstanceID>
          <DatabaseName>{DiffDataBase}</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{MultiDefaultPort}:information_schema</InstanceID>
          <DatabaseName>information_schema</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{MultiDefaultPort}:mysql</InstanceID>
          <DatabaseName>mysql</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
        <database>
          <InstanceID>{MachineName}:{LocalIP}:{MultiDefaultPort}:{DiffDataBase}</InstanceID>
          <DatabaseName>{DiffDataBase}</DatabaseName>
          <NumberOfTables>[0-9]</NumberOfTables>
          <DiskSpaceInBytes>[0-9]</DiskSpaceInBytes>
        </database>
      </databases>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralMultiInstanceMySQLServerStatisticsProperties">
    <rec key="expectedMultiInstancesMySQLServerStatistics">
      <![CDATA[
      <MySQLServerStatistics>
        <MySQLServerStatistic>
          <InstanceID>{MachineName}:{LocalIP}:{DefaultPort}</InstanceID>  
          <CurrentNumConnections>[0-9]</CurrentNumConnections> 
          <MaxConnections>[0-9]</MaxConnections>           
          <Uptime>[0-9]</Uptime> 
          <ServerDiskUseInBytes>[0-9]</ServerDiskUseInBytes> 
          <ConnectionsUsePct>[0-9]</ConnectionsUsePct> 
          <AbortedConnectionPct>[0-9]</AbortedConnectionPct> 
          <SlowQueryPct>[0-9]</SlowQueryPct> 
          <KeyCacheHitPct>[0-9]</KeyCacheHitPct> 
          <KeyCacheWritePct>[0-9]</KeyCacheWritePct> 
          <KeyCacheUsePct>[0-9]</KeyCacheUsePct> 
          <QCacheHitPct>[0-9]</QCacheHitPct> 
          <QCachePrunesPct>[0-9]</QCachePrunesPct> 
          <QCacheUsePct>[0-9]</QCacheUsePct> 
          <TCacheHitPct>[0-9]</TCacheHitPct> 
          <TableLockContentionPct>[0-9]</TableLockContentionPct> 
          <TableCacheUsePct>[0-9]</TableCacheUsePct> 
          <IDB_BP_HitPct>[0-9]</IDB_BP_HitPct>           
          <IDB_BP_UsePct>[0-9]</IDB_BP_UsePct> 
          <FullTableScanPct>[0-9]</FullTableScanPct> 
        </MySQLServerStatistic>
        <MySQLServerStatistic>
          <InstanceID>{MachineName}:{LocalIP}:{MultiDefaultPort}</InstanceID>  
          <CurrentNumConnections>[0-9]</CurrentNumConnections> 
          <MaxConnections>[0-9]</MaxConnections>           
          <Uptime>[0-9]</Uptime> 
          <ServerDiskUseInBytes>[0-9]</ServerDiskUseInBytes> 
          <ConnectionsUsePct>[0-9]</ConnectionsUsePct> 
          <AbortedConnectionPct>[0-9]</AbortedConnectionPct> 
          <SlowQueryPct>[0-9]</SlowQueryPct> 
          <KeyCacheHitPct>[0-9]</KeyCacheHitPct> 
          <KeyCacheWritePct>[0-9]</KeyCacheWritePct> 
          <KeyCacheUsePct>[0-9]</KeyCacheUsePct> 
          <QCacheHitPct>[0-9]</QCacheHitPct> 
          <QCachePrunesPct>[0-9]</QCachePrunesPct> 
          <QCacheUsePct>[0-9]</QCacheUsePct> 
          <TCacheHitPct>[0-9]</TCacheHitPct> 
          <TableLockContentionPct>[0-9]</TableLockContentionPct> 
          <TableCacheUsePct>[0-9]</TableCacheUsePct> 
          <IDB_BP_HitPct>[0-9]</IDB_BP_HitPct>           
          <IDB_BP_UsePct>[0-9]</IDB_BP_UsePct> 
          <FullTableScanPct>[0-9]</FullTableScanPct> 
        </MySQLServerStatistic>
      </MySQLServerStatistics>
      ]]>
    </rec>
  </snippet>

  <snippet id="GenralMultiInstanceMySQLServerProperties">
    <rec key="expectedMultiInstancesMySQLServer">
      <![CDATA[
      <MySQLServers>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{DefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>{ProductVersionInfo}</ProductVersion> 
        <SystemID>[0-9]</SystemID> 
        <CollectionID>{CollectionIDInfo}</CollectionID> 
        <ConfigurationFile>{ConfigurationFileInfo}</ConfigurationFile> 
        <ErrorLogFile>{ErrorLogFileInfo}</ErrorLogFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{DefaultPort}</Port> 
        <SocketFile>{SocketFileInfo}</SocketFile> 
        <DataDirectory>{DataDirectoryInfo}</DataDirectory> 
        <OperatingStatus>{ExpectedStatus}</OperatingStatus> 
        </MySQLServer>
        <MySQLServer>
        <ProductIdentifyingNumber>{MachineName}:{LocalIP}:{MultiDefaultPort}</ProductIdentifyingNumber> 
        <ProductName>MySQL</ProductName> 
        <ProductVendor>Oracle</ProductVendor> 
        <ProductVersion>{MultiProductVersionInfo}</ProductVersion> 
        <SystemID>[0-9]</SystemID> 
        <CollectionID>{CollectionIDInfo}</CollectionID> 
        <ConfigurationFile>{MultiConfigurationFileInfo}</ConfigurationFile> 
        <ErrorLogFile>{MultiErrorLogFileInfo}</ErrorLogFile> 
        <Hostname>{MachineName}</Hostname> 
        <BindAddress>{LocalIP}</BindAddress> 
        <Port>{MultiDefaultPort}</Port> 
        <SocketFile>{MultiSocketFileInfo}</SocketFile> 
        <DataDirectory>{MultiDataDirectoryInfo}</DataDirectory> 
        <OperatingStatus>{ExpectedStatus}</OperatingStatus> 
        </MySQLServer>
      </MySQLServers>
      ]]>
    </rec>
  </snippet>

  <!-- 779296-VerifynonprivilegedAccountEnumeratedMySQL_Server -->
  <var set="1" lvl="0" vid="779296" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProvAuth" dsc="[MySQL]Verify the non-privileged account can enumerated for MySQL_Server" act="true">
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">/opt/microsoft/omi/bin/omicli iv root/mysql { MySQL_Server } UpdateCredentials { Port 3306 BindAddress 127.0.0.1 Username scxtest Password scxtest }</rec>
    <rec key="removeMySQLAuthCmd">rm -rf /var/opt/microsoft/mysql-cimprov/auth/scxtest</rec>
    <rec key="useNonSuperUser">true</rec>
    <rec key="mysqlCmd">/opt/microsoft/omi/bin/omicli ei root/mysql MySQL_Server</rec>
    <rec key="VerifyAuthFolderExistCmd">ls -al /var/opt/microsoft/mysql-cimprov/auth/|grep -ic scxtest</rec>
    <rec key="VerifyAuthFileProtectionCmd">ls -al /var/opt/microsoft/mysql-cimprov/auth/scxtest|grep -i mysql-auth</rec>
    <rec key="expectedAuthFolderCount">1</rec>
    <rec key="expectedAuthFileOwner">scxtest</rec>
    <rec key="expectedAuthFileProtection">-rw-------</rec>
    <rec key="expectedOperatingStatus">OperatingStatus=Insufficient Privileges</rec>
  </var>

  <!-- 779297-VerifyPrivilegedAccountEnumeratedMySQL_Server -->
  <var set="1" lvl="0" vid="779297" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProvAuth" dsc="[MySQL]Verify the privileged account can enumerated for MySQL_Server" act="true">
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="mysqlCmd">/opt/microsoft/omi/bin/omicli ei root/mysql MySQL_Server</rec>
    <rec key="VerifyAuthFolderExistCmd">ls -al /var/opt/microsoft/mysql-cimprov/auth/|grep -ic mysql-auth</rec>
    <rec key="VerifyAuthFileProtectionCmd">ls -al /var/opt/microsoft/mysql-cimprov/auth|grep -i mysql-auth</rec>
    <rec key="expectedAuthFolderCount">1</rec>
    <rec key="expectedAuthFileOwner">root</rec>
    <rec key="expectedAuthFileProtection">-rw-------</rec>
    <rec key="expectedOperatingStatus">OperatingStatus=OK</rec>
  </var>

  <!-- 727495-VerifyCimProvInstallationUsingOptionInstall -->
  <var set="1" lvl="0" vid="727495" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if install MySQL agent successfully with '--install' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="mysqlCmd">sh /tmp/{0} --install</rec>
    <rec key="isInvalidInstall">false</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <!-- The mysql-cimprov folder under /opt/microsoft and /var/opt/microsoft and /etc/opt/microsoft should be 1,1,1 -->
    <rec key="expectedFolderCount">1,1,1</rec>
    <rec key="installLogKeyWorlds">OK</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727742-VerifyCimProvInstallationUsingOptionInstallAndForce -->
  <var set="1" lvl="0" vid="727742" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if install MySQL agent successfully with '--install --force' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="mysqlCmd">sh /tmp/{0} --install --force</rec>
    <rec key="isInvalidInstall">false</rec>
    <!-- The mysql-cimprov folder under /opt/microsoft and /var/opt/microsoft and /etc/opt/microsoft should be 1,1,1 -->
    <rec key="expectedFolderCount">1,1,1</rec>
    <rec key="installLogKeyWorlds">OK</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727744-VerifyCimProvInstallationtwicefailed -->
  <var set="1" lvl="0" vid="727744" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if install an MySQL agent twice failed on the same version" act="true">
    <rec key="mysqlCmd">sh /tmp/{0} --install</rec>
    <rec key="isInvalidInstall">true</rec>
    <rec key="installTwice">true</rec>
  </var>

  <!-- 727503-VerifyCimProvInstallationUsingInvalidOptions-->
  <var set="1" lvl="0" vid="727503" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if install an MySQL agent failed with invalid option" act="true">
    <rec key="mysqlCmd">sh /tmp/{0} --invalidinstall</rec>
    <rec key="isInvalidInstall">true</rec>
  </var>

  <!-- 727504-VerifyCimProvInstallationWithOutOption -->
  <var set="1" lvl="0" vid="727504" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if install an MySQL agent failed without options" act="true">
    <rec key="mysqlCmd">sh /tmp/{0}</rec>
    <rec key="isInvalidInstall">true</rec>
    <rec key="installLogKeyWorlds">usage</rec>
  </var>

  <!-- 727498-VerifyCimProvUsingRemoveOption -->
  <var set="1" lvl="0" vid="727498" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if uninstall MySQL agent successfully with '--remove' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="mysqlCmd">sh /tmp/{0} --remove</rec>
    <rec key="isRemoveOption">true</rec>
    <rec key="expectedFolderCount">0,0,0</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727499-VerifyCimProvUsingpurgeOption -->
  <var set="1" lvl="0" vid="727499" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if uninstalll MySQL agent cleanly with '--purge' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="mysqlCmd">sh /tmp/{0} --purge</rec>
    <rec key="isRemoveOption">true</rec>
    <rec key="expectedFolderCount">0,0,0</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727500-VerifyCimProvHelpOption -->
  <var set="1" lvl="0" vid="727500" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProv" dsc="[MySQL]Verify if output the usage properly when type '--help' option" act="true">
    <rec key="mysqlCmd">sh /tmp/{0} --help</rec>
    <rec key="isHelpOption">true</rec>
    <rec key="installLogKeyWorlds">usage</rec>
  </var>

  <!-- 727741-VerifyCimProvUpgradeOption -->
  <var set="1" lvl="0" vid="727741" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProvCompatibility" dsc="[MySQL]Verify if upgrade MySQL agent successfully with '--upgrade' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="installOlderMySQLCmd">sh /tmp/{0} --install</rec>
    <rec key="oldMySQLsLocation"><![CDATA[C:\MySQL\cimprov\old]]></rec>
    <rec key="mysqlCmd">sh /tmp/{0} --upgrade</rec>
    <rec key="isUpgrade">true</rec>
    <rec key="expectedFolderCount">1,1,1</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727743-VerifyCimProvUpgradeUsingForceOption -->
  <var set="1" lvl="0" vid="727743" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProvCompatibility" dsc="[MySQL]Verify if upgrade MySQL agent successfully with '--upgrade --force' option" act="true">
    <snipref id="MySQLInstallInfo" />
    <rec key="installOlderMySQLCmd">sh /tmp/{0} --install</rec>
    <rec key="oldMySQLsLocation"><![CDATA[C:\MySQL\cimprov\old]]></rec>
    <rec key="mysqlCmd">sh /tmp/{0} --upgrade --force</rec>
    <rec key="isUpgrade">true</rec>
    <rec key="expectedFolderCount">1,1,1</rec>
    <rec key="verifyFolderExistCmd">%MySQL.VerifyFolderExistCmd%</rec>
    <rec key="verifyMySQLInstalledCmd">%MySQL.VerifyMySQLInstalledCmd%</rec>
  </var>

  <!-- 727745-VerifyCimProvDoesNotUpgradeToLowerVersion-->
  <var set="1" lvl="0" vid="727745" cid="VerifyCimProv" cls="Scx.Test.MySQL.Provider.VerifyCimProv.VerifyCimProvCompatibility" dsc="[MySQL]Verify if upgrade MySQL agent successfully with '--upgrade --force' option" act="true">
    <rec key="oldMySQLsLocation"><![CDATA[C:\MySQL\cimprov\old]]></rec>
    <rec key="mysqlCmd">sh /tmp/{0} --upgrade</rec>
    <rec key="isUpgrade">false</rec>
  </var>

  <!-- VerifyEnumerate Test Case information -->
  <!-- Verify MySQL_Server works fine by comparing info from provider to wsman-->
  <var set="2" lvl="0" vid="728316" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify MySQL_Server works fine by comparing info from provider to wsman." act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
  </var>

  <!-- Verify MySQL_ServerStatistics works fine by comparing info from provider to wsman-->
  <var set="2" lvl="0" vid="728331" cid="MySQL_ServerStatistics" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerStatistics" dsc="Verify MySQL_ ServerStatistics works fine by comparing info from provider to wsman" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
  </var>

  <!-- Verify MySQL_Server_Database works fine by comparing info from provider to wsman-->
  <var set="2" lvl="0" vid="728336" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerDataBases" dsc="Verify MySQL_Server_Database works fine by comparing info from provider to wsman" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
  </var>

  <!--Verify MySQL_Server works fine by comparing info from SQL commands to provider -->
  <var set="2" lvl="0" vid="728341" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyMySQLValue.VerifyMySQLValue" dsc="[MySQL]Verify MySQL_Server works fine by comparing info from SQL commands to provider" act="true">
  </var>

  <!--Verify MySQL_ ServerStatistics works fine by comparing info from SQL commands to provider-->
  <var set="2" lvl="0" vid="728346" cid="MySQL_ServerStatistics" cls="Scx.Test.MySQL.Provider.VerifyMySQLValue.VerifyMySQLValue" dsc="Verify MySQL_ ServerStatistics works fine by comparing info from SQL commands to provider" act="true">
  </var>

  <!-- Verify MySQL_Server_Database works fine by comparing info from SQL commands to provider-->
  <var set="2" lvl="0" vid="728348" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyMySQLValue.VerifyMySQLValue" dsc="Verify MySQL_Server_Database works fine by comparing info from SQL commands to provider" act="true">
  </var>

  <!--728898-Verify the enumeration of CIM instance info failed if mysql service is not running-->
  <var set="2" lvl="0" vid="728898" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerDataBases" dsc="Verify the enumeration of CIM instance info failed if mysql service is not running" act="true">
    <rec key="enumerateresult">false</rec>
    <rec key="stopMySQLServer">true</rec>
    <rec key="stopMySQLCmd">service mysql stop</rec>
  </var>

  <!-- 728899-Verify the property 'OperatingStatus' will be 'Authentication File in Error' when not set Credentials for MySQL instance -->
  <var set="2" lvl="0" vid="728899" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify the property 'OperatingStatus' will be 'Authentication File in Error' when not set Credentials for MySQL instance" act="true">
    <snipref id="LinuxInfo" />
    <rec key="enumerateresult">false</rec>
    <rec key="IsBadStatus">true</rec>
    <rec key="expecteStatusValue">Authentication File in Error</rec>
  </var>

  <!-- 728900-MySQL_ServerStatistics:Verify the enumeration of CIM instance info failed if not set Credentials for MySQL instance-->
  <var set="2" lvl="0" vid="728900" cid="MySQL_ServerStatistics" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerStatistics" dsc="MySQL_ServerStatistics:Verify The enumeration of CIM instance info failed if not set Credentials for MySQL instance" act="true">
    <rec key="enumerateresult">false</rec>
  </var>

  <!--728901-MySQL_Server_Database:Verify the enumeration of CIM instance info failed if not set Credentials for MySQL instance-->
  <var set="2" lvl="0" vid="728901" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerDataBases" dsc="MySQL_Server_Database:Verify the enumeration of CIM instance info failed if not set Credentials for MySQL instance" act="true">
    <rec key="enumerateresult">false</rec>
  </var>

  <!-- Verify the property 'OperatingStatus' is ‘Insufficient Privileges ' when we using non-privileged account to query wsman-->
  <var set="2" lvl="0" vid="779298" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify the property 'OperatingStatus' is ‘Insufficient Privileges ' when we using non-privileged account to query wsman" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">/opt/microsoft/omi/bin/omicli iv root/mysql { MySQL_Server } UpdateCredentials { Port 3306 BindAddress 127.0.0.1 Username scxtest Password scxtest}</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="useNonSuperUser">true</rec>
    <rec key="IsBadStatus">true</rec>
    <rec key="expecteStatusValue">Insufficient Privileges</rec>
  </var>

  <!--TestCase 728349 Verify the provider works fine after restart the scx agent-->
  <var set="2" lvl="0" vid="728349" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL]Verify the provider works fine after restart the scx agent" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="restartOmAgent">true</rec>
    <rec key="restartOmAgentCmd">scxadmin -restart</rec>
  </var>

  <!--TestCase 728351 Verify the provider return failed message if omiserverd process not running-->
  <var set="2" lvl="0" vid="728351" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL]Verify the provider return failed message if omiserverd process not running" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="enumerateresult">false</rec>
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="stopOmAgent">true</rec>
    <rec key="stopOmAgentCmd">scxadmin -stop</rec>
  </var>

  <!--TestCase 728360 Verify provider works fine after restart mysql service-->
  <var set="2" lvl="0" vid="728360" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL]Verify provider works fine after restart mysql service" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="restartMySQLServer">true</rec>
    <rec key="restartMySQLCmd">service mysql restart</rec>
  </var>

  <!--TestCase 728896 Verify the property 'OperatingStatus' will be 'No Contact' if mysql servive not running-->
  <var set="2" lvl="0" vid="728896" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL]Verify the property 'OperatingStatus' will be 'No Contact' if mysql servive not running" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="stopMySQLServer">true</rec>
    <rec key="stopMySQLCmd">service mysql stop</rec>
    <rec key="IsBadStatus">true</rec>
    <rec key="expecteStatusValue">No Contact</rec>
  </var>

  <!--TestCase 728897 Verify the enumeration of CIM instance info failed if mysql service is not running-->
  <var set="2" lvl="0" vid="728897" cid="MySQL_ServerStatistics"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerStatistics" dsc="[MySQL]Verify the enumeration of CIM instance info failed if mysql service is not running" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="enumerateresult">false</rec>
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="stopMySQLServer">true</rec>
    <rec key="stopMySQLCmd">service mysql stop</rec>
  </var>

  <!--TestCase 784102 Verify the enumeration not work after delete the authenticated credentials-->
  <var set="2" lvl="0" vid="784102" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL] Verify the enumeration not work after delete the authenticated credentials" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="enumerateresult">false</rec>
    <rec key="addMySQLAuthCmd">%MySQL.DefaultAuthCmd%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="deleteCredentials">true</rec>
    <rec key="deleteCredentialsCmd">/opt/microsoft/mysql-cimprov/bin/mycimprovauth delete 3306</rec>
  </var>

  <!--728902-Verify the method 'UpdateCredentials' works fine-->
  <var set="2" lvl="0" vid="728902" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify the method 'UpdateCredentials' works fine." act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addMySQLAuthCmd">/opt/microsoft/mysql-cimprov/bin/mycimprovauth update %DefaultPort% %LocalIP% %DefaultAuthorUser% %DefaultAuthorPassWord% </rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
  </var>

  <!--784101-Verify the enumeration not work if set unauthenticated credentials for MySQL CIM Provider-->
  <var set="2" lvl="0" vid="784101" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify the enumeration not work if set unauthenticated credentials for MySQL CIM Provider." act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo" />
    <rec key="addBadMySQLAuthCmd">/opt/microsoft/mysql-cimprov/bin/mycimprovauth update 3306 127.0.0.1 test test</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="enumerateresult">false</rec>
  </var>

  <!--TestCase 728903 Verify the enumeration still works fine after delete one credentials for multi mysql instances environment-->
  <var set="4" lvl="0" vid="728903" cid="MySQL_Server"  cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL] Verify the enumeration still works fine after delete one credentials for multi mysql instances environment" act="true">
    <snipref id="MultiMySQL" />
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="deleteCredentials">true</rec>
    <rec key="isDeleteCredentialsInMulti">true</rec>
    <rec key="deleteCredentialsCmd">/opt/microsoft/mysql-cimprov/bin/mycimprovauth delete 3307</rec>
  </var>

  <!--778552-Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment-->
  <var set="4" lvl="0" vid="778552" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment" act="true">
    <snipref id="MultiMySQL" />
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
    <rec key="IsStopOneInstance">true</rec>
    <rec key="stopOneInstanceCmd">service mysqld_multi stop 2</rec>
    <rec key="startStopedInstanceCmd">service mysqld_multi start 2</rec>
  </var>

  <!--778553-Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment-->
  <var set="4" lvl="0" vid="778553" cid="MySQL_ServerStatistics" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerStatistics" dsc="Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment" act="true">
    <snipref id="MultiMySQL"/>
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
    <rec key="IsStopOneInstance">true</rec>
    <rec key="stopOneInstanceCmd">service mysqld_multi stop 2</rec>
    <rec key="startStopedInstanceCmd">service mysqld_multi start 2</rec>
  </var>
  <!--778554-Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment-->
  <var set="4" lvl="0" vid="778554" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerDataBases" dsc="Verify provider return correct instance info when stop one mysql instance in multi mysql instances environment" act="true">
    <snipref id="MultiMySQL"/>
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
    <rec key="IsStopOneInstance">true</rec>
    <rec key="stopOneInstanceCmd">service mysqld_multi stop 2</rec>
    <rec key="startStopedInstanceCmd">service mysqld_multi start 2</rec>
  </var>

  <!--TestCase 728909 Verify provider works fine when multi mysql instances are configured-->
  <var set="4" lvl="0" vid="728909" cid="MySQL_Server" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServer" dsc="[MySQL] Verify provider works fine when multi mysql instances are configured" act="true">
    <snipref id="MultiMySQL"/>
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
  </var>

  <!--TestCase 728910 Verify provider works fine when multi mysql instances are configured-->
  <var set="4" lvl="0" vid="728910" cid="MySQL_ServerStatistics" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerStatistics" dsc="[MySQL] Verify provider works fine when multi mysql instances are configured" act="true">
    <snipref id="MultiMySQL"/>
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
  </var>

  <!--TestCase 728911 Verify provider works fine when multi mysql instances are configured-->
  <var set="4" lvl="0" vid="728911" cid="MySQL_Server_Database" cls="Scx.Test.MySQL.Provider.VerifyEnumerateMySQLServerDataBases" dsc="[MySQL] Verify provider works fine when multi mysql instances are configured" act="true">
    <snipref id="LinuxInfo" />
    <snipref id="MySQLAuthInfo"/>
    <snipref id="MultiMySQL"/>
    <rec key="addMySQLAuthCmd">%MultiMySQLAddAuth%</rec>
    <rec key="removeMySQLAuthCmd">%MySQL.DeleteAuthCmd%</rec>
    <rec key="IsMulti">true</rec>
  </var>

  <!-- Test Variables Definition -->
  <grp cls="Scx.Test.MySQL.Provider.GroupHelper">
    <snipref id="LinuxInfo" />
    <rec key="hostname">%Linux.Host%</rec>
    <rec key="omserver">osst-w12r2-01</rec>
    <rec key="username">root</rec>
    <rec key="password">OpsMgr2007R2</rec>
    <rec key="nonsuperuser">scxtest</rec>
    <rec key="nonsuperuserpwd">scxtest</rec>
    <rec key="MySQLTag">universal.1.i686</rec>
    <rec key="InstallOMCmd">sh /tmp/{0} --install</rec>
    <rec key="UninstallOMCmd">sh /tmp/{0} --purge</rec>
    <rec key="CleanupOMCmd"><![CDATA[sh /tmp/{0} --purge;]]></rec>
    <rec key="installonly">false</rec>
    <rec key="knownIssueFormat">Known Issue: WI {0}: '{1}'</rec>
    <rec key="OMAgentLocation"><![CDATA[C:\Program Files\Microsoft System Center 2012 R2\Operations Manager\Server\AgentManagement\UnixAgents]]></rec>
    <rec key="oldOMAgentLocation"><![CDATA[C:\MySQL\cimprov\old]]></rec>
    <!--cimprov-->
    <rec key="MySQLsLocation"><![CDATA[C:\MySQL\cimprov]]></rec>
    <rec key="MySQLConfigForR"><![CDATA[C:\MySQL\cimprov\mycnf\R]]></rec>
    <rec key="MySQLConfigForD"><![CDATA[C:\MySQL\cimprov\mycnf\D]]></rec>
    <rec key="installMySQLCmd">sh /tmp/{0} --install</rec>
    <rec key="UninstallMySQLCmd">sh /tmp/{0} --purge</rec>
    <rec key="CleanupMySQLCmd"><![CDATA[sh /tmp/{0} --purge;rm -rf /etc/opt/microsoft/mysql*;rm -rf /opt/microsoft/mysql*;rm -rf /var/opt/microsoft/mysql*;]]></rec>

    <!--check MySQL status-->
    <rec key="installMySQLPkg">yum install mysql</rec>
    <rec key="startMySQLCmd">service mysql start</rec>
    <rec key="stopMySQLCmd">service mysql stop</rec>
    <rec key="restartMySQLCmd">service mysql restart</rec>
    <rec key="checkServiceCmd">service mysql status</rec>
    <rec key="restartOmAgentCmd">scxadmin -restart</rec>
    <rec key="stopOmAgentCmd">scxadmin -stop</rec>
    <rec key="startOmAgentCmd">scxadmin -start</rec>
    <rec key="checkMySQLInstalled">dpkg -l |grep -i mysql</rec>
    <rec key="startMultiMySQLCmd">service mysqld_multi start</rec>
    <rec key="stopMultiMySQLCmd">service mysqld_multi stop</rec>

    <rec key="getOSVersionCmd">python -c "import platform; print platform.dist()"</rec>
    <!--rec key="getMySQLVersionCmd">/usr/local/mysql/bin/mysqld -V| awk '{print $3}' | sed -e 's/,$//'</rec-->
    <rec key="getMySQLVersionCmd">mysql -V| awk '{print $5}' | sed -e 's/,$//'</rec>
    <!--<rec key="getMySQLVersionCmdForSource">source /etc/profile.d/mysql.sh; mysql -V| awk '{print $5}' | sed -e 's/,$//'</rec>-->

    <!--Expected MySQL Properties-->
    <!--One Instance-->
    <snipref id="GenralOneInstanceMySQLServerDataBasesProperties" />
    <snipref id="GenralOneInstanceMySQLServerStatisticsProperties" />
    <snipref id="GenralOneInstanceMySQLServerProperties" />
    <!--Multi Instances-->
    <snipref id="GenralMultiInstanceMySQLServerDataBasesProperties" />
    <snipref id="GenralMultiInstanceMySQLServerStatisticsProperties" />
    <snipref id="GenralMultiInstanceMySQLServerProperties" />
    <!--Stop One Instance in Multi Env. the MySQLServerStatistics properties should same as GenralOneInstanceMySQLServerStatisticsProperties So Don't need add this one. -->
    <snipref id="GenralStopedOneInstanceInMultiEnvMySQLServerProperties" />
    <snipref id="GenralStopedOneInstanceInMultiEnvMySQLServerDataBasesProperties" />

    <!--One Instance But Bad Status-->
    <snipref id="GenralBadStatusMySQLServerProperties"/>

    <!--Expected MySQL hostIP and Ports-->
    <rec key="hostIP">127.0.0.1</rec>
    <rec key="defaultPortID">3306</rec>
    <rec key="multiDefaultPortID">3307</rec>

    <!--Expected MySQL Version-->
    <rec key="DiffDataBase50">test</rec>
    <rec key="DiffDataBase55">performance_schema</rec>

    <!--Expected MySQL CollectionID-->
    <rec key="defaultCollectionID">[lL]inux</rec>
    <rec key="ProductVersionM50">5.0.96</rec>
    <rec key="ProductVersionM51">5.1</rec>
    <rec key="ProductVersionM55">5.5</rec>
    <rec key="ProductVersionM56">5.6</rec>
    <rec key="ProductVersionM57">5.7</rec>

    <!--Expected MySQL M50P-ORA5-01 Version-->
    <!--<rec key="ProductVersionM50PORA5">5.0.96</rec>-->
    <rec key="defaultConfigurationFile">/etc/my.cnf</rec>
    <rec key="defaultErrorLogFile">/var/log/mysql/error.log</rec>
    <rec key="defaultSocketFile">/var/lib/mysql/mysql.sock</rec>
    <rec key="defaultDataDirectory">/var/lib/mysql/</rec>
    <!--<rec key="defaultMultiProductVersion">5.0.96</rec>-->
    <rec key="defaultMultiConfigurationFile">/etc/my.cnf</rec>
    <rec key="defaultMultiErrorLogFile">/var/log/mysql/error2.log</rec>
    <rec key="defaultMultiSocketFile">/var/lib/mysql/mysql2.sock</rec>
    <rec key="defaultMultiDataDirectory">/var/lib/mysql/data</rec>
    <varref />
  </grp>
</varmap>